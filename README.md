# 🎮 Phaser 3 射击游戏

一个基于 Phaser 3 框架开发的 2D 射击游戏，具有角色选择、武器系统、敌人生成和碰撞检测等完整功能。

## 🎮 游戏操作指南

### 🚀 进入游戏
1. 启动本地服务器：`python3 -m http.server 8000`
2. 打开浏览器访问：`http://localhost:8000`
3. 在角色选择界面选择喜欢的角色
4. 点击"开始游戏"进入游戏

### 🎯 游戏控制
- **移动控制**：
  - 方向键（↑↓←→）或 WASD 键移动角色
- **射击控制**：
  - 鼠标点击或空格键射击
  - 射击方向跟随鼠标位置
- **武器切换**：
  - 数字键 1-6 切换不同武器
  - 1: AK47（连发3发，免费无限子弹）
  - 2: 沙漠之鹰（单发高伤害，免费无限子弹）
  - 3: 加特林（连发20发，每发10积分，5秒后休息2秒）
  - 4: 导弹（爆炸范围攻击，每发20积分）
  - 5: 核弹（全屏消灭敌人，每发50积分）
  - 6: 特斯拉枪（持续2秒光线，每发15积分）
- **游戏控制**：
  - P键：暂停/恢复游戏
  - R键：游戏结束后重新开始
  - N键：关卡完成后进入下一关

### 🎯 游戏目标
- **生存模式**：生存90秒或击杀30个敌人完成关卡
- **积分系统**：击败敌人获得积分，用于购买高级武器子弹
- **武器解锁**：AK47和沙漠之鹰免费使用，其他武器需要积分购买子弹

### 💡 游戏技巧
- 优先使用免费武器积累积分
- 加特林适合快速清敌，但注意冷却时间
- 导弹和核弹适合对付密集敌人
- 特斯拉枪适合持续输出
- 注意躲避敌人，保持血量

## ✨ 游戏特色

### 🎯 核心功能
- **多角色选择**: 5种独特角色（精灵、士兵、潜水员、坦克、飞船）
- **武器系统**: 6种不同武器，包括免费武器和积分购买武器
- **动态纹理系统**: 使用Canvas API动态生成游戏纹理，无需外部资源
- **完整的游戏循环**: 从加载到游戏结束的完整体验
- **实时HUD**: 分数、生命值、时间、击杀数、武器状态等实时显示
- **物理引擎**: 基于Phaser Arcade Physics的精确碰撞检测

### 🎨 视觉效果
- **彩色角色系统**: 每个角色都有独特的颜色和形状
- **动态背景**: 平铺背景或纯色背景
- **屏幕震动**: 受伤时的视觉反馈
- **粒子效果**: 射击和爆炸效果（待实现）

### 🔊 音效系统
- **程序生成音效**: 基于Web Audio API的音效（待实现）
- **背景音乐**: 游戏背景音乐支持（待实现）

### 🎮 游戏机制
- **动态难度**: 随时间递增的难度系统
- **积分系统**: 击败敌人获得积分，支持本地保存
- **暂停功能**: 游戏暂停和恢复
- **重新开始**: 游戏结束后可重新开始

## 🚀 快速开始

### 环境要求
- 现代浏览器（支持ES6模块）
- Python 3.x 或 Node.js（用于本地服务器）

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd EricAdam1stGame
```

2. **启动本地服务器**
```bash
# 使用 Python 3
python3 -m http.server 8000

# 或使用 Node.js
npx http-server -p 8000
```

3. **访问游戏**
```
http://localhost:8000
```

## 🎯 游戏操作

### 基本控制
- **方向键/WASD**: 移动角色
- **鼠标点击/空格键**: 射击
- **数字键1-6**: 切换武器
- **P键**: 暂停/恢复游戏
- **R键**: 游戏结束后重新开始
- **N键**: 关卡完成后进入下一关

### 角色选择
1. 在角色选择界面选择喜欢的角色
2. 每个角色都有不同的属性（速度、生命值）
3. 点击"开始游戏"进入游戏

## 🏗️ 项目结构

```
EricAdam1stGame/
├── index.html              # 主HTML文件
├── game.js                 # 游戏主配置文件
├── logger.js               # 日志系统
├── scenes/                 # 游戏场景
│   ├── PreloaderScene.js   # 加载场景
│   ├── PlayerSelectScene.js # 角色选择场景
│   └── MainScene.js        # 主游戏场景
├── images/                 # 图片资源（待使用）
├── README.md               # 项目说明
├── 开发计划.md             # 开发计划文档
├── 功能扩展计划.md         # 功能扩展计划
├── Cursor提示词.md         # Cursor开发提示词
└── 开始指南.md             # 开始指南
```

## 🎨 角色系统

### 可用角色
| 角色 | 类型 | 速度 | 生命值 | 颜色 | 形状 |
|------|------|------|--------|------|------|
| 精灵 | 敏捷型 | 450 | 80 | 浅绿色 | 圆形 |
| 士兵 | 平衡型 | 400 | 100 | 棕色 | 圆形 |
| 潜水员 | 防御型 | 350 | 120 | 皇家蓝 | 圆形 |
| 坦克 | 攻击型 | 300 | 90 | 灰色 | 方形 |
| 飞船 | 特殊型 | 500 | 70 | 银色 | 三角形 |

## 🔧 技术架构

### 核心技术栈
- **Phaser 3.60.0**: 游戏引擎
- **ES6 Modules**: 模块系统
- **Canvas API**: 动态纹理生成
- **LocalStorage**: 数据持久化
- **Web Audio API**: 音效系统（待实现）

### 场景管理
- **PreloaderScene**: 资源加载和纹理生成
- **PlayerSelectScene**: 角色选择和游戏开始
- **MainScene**: 主游戏逻辑和交互

### 物理系统
- **Arcade Physics**: 碰撞检测
- **对象池**: 子弹和敌人的内存管理
- **边界检测**: 世界边界和对象清理

## 🐛 调试功能

### 日志系统
- 按 `Command+L` (Mac) 或 `Ctrl+L` (Windows) 查看日志
- 访问 `http://localhost:8000/logs.html` 查看详细日志
- 支持日志导出和清理

### 控制台调试
- 详细的加载进度日志
- 纹理创建状态监控
- 游戏状态实时输出

## 📈 开发进度

### ✅ 已完成功能
- [x] 基础游戏框架搭建
- [x] 动态纹理生成系统
- [x] 多角色选择系统
- [x] 玩家移动和射击
- [x] 敌人生成和AI
- [x] 碰撞检测系统
- [x] HUD界面和状态显示
- [x] 积分系统和本地保存
- [x] 暂停和重新开始功能
- [x] 动态难度系统
- [x] 日志和调试系统
- [x] 武器系统（6种武器）
- [x] 武器切换和子弹购买
- [x] 关卡完成系统
- [x] 计时器系统

### 🚧 开发中功能
- [ ] 武器特效系统
- [ ] 音效和背景音乐
- [ ] 粒子效果系统
- [ ] 多种敌人类型

### 📋 计划功能
- [ ] 多关卡系统
- [ ] BOSS战斗
- [ ] 道具系统
- [ ] 成就系统
- [ ] 排行榜功能

## 🎯 性能优化

### 已实现的优化
- **动态纹理**: 避免外部资源加载
- **对象池**: 减少内存分配
- **边界检测**: 自动清理出界对象
- **事件管理**: 正确的事件监听器清理

### 性能指标
- **加载时间**: < 2秒
- **内存使用**: 稳定的内存占用
- **帧率**: 60 FPS
- **兼容性**: 支持所有现代浏览器

## 🐛 已知问题

### 已修复问题
- ✅ Data URI 不支持问题
- ✅ Phaser 3 API 兼容性问题
- ✅ 纹理加载失败问题
- ✅ 场景切换问题

### 待解决问题
- [ ] 移动端触摸控制
- [ ] 音效加载优化
- [ ] 粒子效果性能优化

## 🤝 贡献指南

### 开发环境设置
1. 确保使用现代浏览器
2. 启用开发者工具控制台
3. 使用本地HTTP服务器（避免CORS问题）

### 代码规范
- 使用ES6+语法
- 添加适当的注释
- 遵循Phaser 3最佳实践
- 保持代码模块化

### 测试要求
- 每个功能都要有明确的测试标准
- 在不同浏览器中测试兼容性
- 检查性能和内存使用

## 📝 更新日志

### v2.2-Fixed (当前版本)
- 修复所有Phaser 3 API兼容性问题
- 优化HUD显示系统
- 改进错误处理机制

### v2.1-NoDataURI
- 实现动态纹理生成系统
- 解决Data URI不支持问题
- 添加完整的日志系统

### v2.0
- 重构为Phaser 3架构
- 实现多场景系统
- 添加角色选择功能

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [Phaser 3](https://phaser.io/) - 优秀的HTML5游戏框架
- [MDN Web Docs](https://developer.mozilla.org/) - Web开发文档
- 所有贡献者和测试者

---

**开始您的射击游戏之旅吧！** 🎮

如有问题或建议，请提交Issue或Pull Request。 