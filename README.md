# 🎮 Phaser 3 横版卷轴射击游戏

一个基于 Phaser 3 框架开发的 2D 横版卷轴射击游戏，具有角色选择、武器系统、敌人生成、道具系统、障碍物、BOSS战斗、多层视差背景等完整功能。

## 🎮 游戏玩法

### 🚀 游戏开始
1. 启动本地服务器：`python3 -m http.server 8000`
2. 打开浏览器访问：`http://localhost:8000`
3. 在角色选择界面选择喜欢的角色
4. 点击"开始游戏"进入游戏

### 🎯 核心玩法
- **横版卷轴冒险**：在4000像素宽度的世界中向右推进，体验流畅的卷轴效果
- **多层视差背景**：远景、中景、近景三层背景以不同速度滚动，营造深度感
- **生存挑战**：在充满敌人的战场上生存，击败敌人获得积分
- **关卡进阶**：完成当前关卡后进入下一关，难度逐渐提升
- **BOSS战斗**：每5关会遇到强大的BOSS，需要特殊策略击败
- **道具收集**：收集各种道具提升能力，包括生命恢复、武器增强等
- **障碍物躲避**：避开或摧毁障碍物，保持战场畅通
- **距离进度**：显示前进距离和关卡进度，到达终点完成关卡

### 🎮 游戏控制
- **移动控制**：
  - 方向键（↑↓←→）或 WASD 键移动角色
  - 向右移动触发世界滚动，向左移动限制在屏幕内
- **射击控制**：
  - 鼠标点击或空格键射击
  - 射击方向跟随鼠标位置
- **武器切换**：
  - 数字键 1-6 切换不同武器
  - 1: AK47（连发3发，免费无限子弹）
  - 2: 沙漠之鹰（单发高伤害，免费无限子弹）
  - 3: 加特林（连发20发，每发10积分，5秒后休息2秒）
  - 4: 导弹（爆炸范围攻击，每发20积分）
  - 5: 核弹（全屏消灭敌人，每发50积分）
  - 6: 特斯拉枪（持续2秒光线，每发15积分）
- **游戏控制**：
  - P键：暂停/恢复游戏
  - R键：游戏结束后重新开始
  - N键：关卡完成后进入下一关

### 🎯 游戏目标
- **横版卷轴模式**：到达4000像素终点或生存90秒或击杀30个敌人完成关卡
- **积分系统**：击败敌人获得积分，用于购买高级武器子弹
- **武器解锁**：AK47和沙漠之鹰免费使用，其他武器需要积分购买子弹
- **BOSS挑战**：每5关挑战强大BOSS，获得丰厚奖励
- **距离挑战**：在横版卷轴中推进距离，体验不同的游戏节奏

### 💡 游戏技巧
- **横版卷轴策略**：
  - 合理控制移动节奏，避免被敌人包围
  - 利用视差背景判断距离感
  - 注意小地图显示，了解战场态势
  - 在BOSS战时摄像机锁定，专注战斗
- **武器策略**：
  - 优先使用免费武器积累积分
  - 加特林适合快速清敌，但注意冷却时间
  - 导弹和核弹适合对付密集敌人
  - 特斯拉枪适合持续输出
- **生存技巧**：
  - 注意躲避敌人，保持血量
  - 收集道具提升能力
  - 利用障碍物作为掩护
  - BOSS战时注意攻击模式

### 🎁 道具系统
- **生命恢复**：恢复玩家生命值
- **武器增强**：临时提升武器伤害
- **速度提升**：临时提升移动速度
- **护盾保护**：临时获得无敌护盾
- **积分奖励**：直接获得积分

### 🏗️ 障碍物系统
- **静态障碍物**：岩石、树木、建筑等，阻挡移动和射击
- **可破坏障碍物**：可以被武器摧毁
- **动态障碍物**：移动的障碍物，增加游戏难度
- **横版卷轴适配**：障碍物在玩家前方生成，随世界滚动移动

### 👹 BOSS战斗
- **多种BOSS类型**：森林之王、沙漠之王、深海之王、机械巨兽、宇宙领主
- **独特攻击模式**：每个BOSS都有不同的攻击方式
- **阶段战斗**：BOSS血量降低时进入狂暴状态
- **丰厚奖励**：击败BOSS获得大量积分和道具
- **横版卷轴适配**：BOSS战时摄像机锁定，专注战斗体验

## 🏗️ 项目结构

```
EricAdam1stGame/
├── index.html              # 主HTML文件
├── scenes/                 # 游戏场景和逻辑文件
│   ├── game.js             # 游戏主配置文件
│   ├── levels.js           # 关卡配置文件
│   ├── PreloaderScene.js   # 加载场景
│   ├── PlayerSelectScene.js # 角色选择场景
│   ├── MainScene.js        # 主游戏场景
│   ├── EnemyClass.js       # 敌人类定义
│   ├── EnemyBullet.js      # 敌人子弹类定义
│   ├── PowerUp.js          # 道具类定义
│   ├── PowerUpManager.js   # 道具管理器
│   ├── powerUps.js         # 道具类型配置
│   ├── Obstacle.js         # 障碍物类定义
│   ├── ObstacleManager.js  # 障碍物管理器
│   └── obstacleTypes.js    # 障碍物类型配置
├── images/                 # 图片资源
│   ├── backgrounds/        # 背景图片
│   ├── characters/         # 角色图片
│   ├── enemies/           # 敌人图片
│   ├── bosses/            # Boss图片
│   ├── obstacles/         # 障碍物图片
│   └── ...                # 其他游戏资源
├── README.md               # 项目说明
├── 开发计划.md             # 开发计划文档
├── 功能扩展计划.md         # 功能扩展计划
└── 项目结构说明.md         # 项目结构说明
```

## 🎨 角色系统

### 可用角色
| 角色 | 类型 | 速度 | 生命值 | 颜色 | 形状 |
|------|------|------|--------|------|------|
| 精灵 | 敏捷型 | 450 | 80 | 浅绿色 | 圆形 |
| 士兵 | 平衡型 | 400 | 100 | 棕色 | 圆形 |
| 潜水员 | 防御型 | 350 | 120 | 皇家蓝 | 圆形 |
| 坦克 | 攻击型 | 300 | 90 | 灰色 | 方形 |
| 飞船 | 特殊型 | 500 | 70 | 银色 | 三角形 |

## 🔧 技术架构

### 核心技术栈
- **Phaser 3.60.0**: 游戏引擎
- **ES6 Modules**: 模块系统
- **Canvas API**: 动态纹理生成
- **LocalStorage**: 数据持久化
- **Web Audio API**: 音效系统（待实现）
- **视差滚动**: 多层背景滚动系统
- **摄像机系统**: 平滑跟随和边界控制

### 场景管理
- **PreloaderScene**: 资源加载和纹理生成
- **PlayerSelectScene**: 角色选择和游戏开始
- **MainScene**: 主游戏逻辑和交互

### 物理系统
- **Arcade Physics**: 碰撞检测
- **对象池**: 子弹和敌人的内存管理
- **边界检测**: 世界边界和对象清理
- **横版卷轴物理**: 扩展世界边界和摄像机边界
- **视差滚动**: 多层背景的独立滚动系统

## 📈 开发进度

### ✅ 已完成功能
- [x] 基础游戏框架搭建
- [x] 动态纹理生成系统
- [x] 多角色选择系统
- [x] 玩家移动和射击
- [x] 敌人生成和AI
- [x] 碰撞检测系统
- [x] HUD界面和状态显示
- [x] 积分系统和本地保存
- [x] 暂停和重新开始功能
- [x] 动态难度系统
- [x] 日志和调试系统
- [x] 武器系统（6种武器）
- [x] 武器切换和子弹购买
- [x] 关卡完成系统
- [x] 计时器系统
- [x] 多关卡设计
- [x] 背景切换系统
- [x] 关卡特定敌人
- [x] 多种敌人类型
- [x] 敌人AI和攻击模式
- [x] 健康显示系统
- [x] 道具系统（5种道具类型）
- [x] 道具生成和管理
- [x] 障碍物系统（5种类型）
- [x] 障碍物生成和碰撞
- [x] BOSS系统（5种BOSS）
- [x] BOSS战斗机制
- [x] 关卡进度保存
- [x] **横版卷轴系统**：
  - [x] 世界尺寸扩展（4000x720）
  - [x] 摄像机跟随系统
  - [x] 玩家移动限制
  - [x] 敌人生成适配
  - [x] 距离进度显示
  - [x] 多层视差背景
  - [x] 小地图功能
  - [x] BOSS战摄像机锁定

### 🚧 开发中功能
- [ ] 武器特效系统
- [ ] 音效和背景音乐
- [ ] 粒子效果系统

### 📋 计划功能
- [ ] 高级统计系统
- [ ] 成就系统
- [ ] 数据持久化优化

## 🚀 快速开始

### 环境要求
- 现代浏览器（支持ES6模块）
- Python 3.x 或 Node.js（用于本地服务器）

### 安装步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd EricAdam1stGame
```

2. **启动本地服务器**
```bash
# 使用 Python 3
python3 -m http.server 8000

# 或使用 Node.js
npx http-server -p 8000
```

3. **访问游戏**
```
http://localhost:8000
```

## 🎯 性能优化

### 已实现的优化
- **动态纹理**: 避免外部资源加载
- **对象池**: 减少内存分配
- **边界检测**: 自动清理出界对象
- **事件管理**: 正确的事件监听器清理

### 性能指标
- **加载时间**: < 2秒
- **内存使用**: 稳定的内存占用
- **帧率**: 60 FPS
- **兼容性**: 支持所有现代浏览器

## 📝 更新日志

### v3.0 (当前版本)
- 完成道具系统（5种道具类型）
- 完成障碍物系统（5种障碍物类型）
- 完成BOSS系统（5种BOSS类型）
- 实现关卡进度保存
- 优化游戏平衡性

### v2.2-Fixed
- 修复所有Phaser 3 API兼容性问题
- 优化HUD显示系统
- 改进错误处理机制

### v2.1-NoDataURI
- 实现动态纹理生成系统
- 解决Data URI不支持问题
- 添加完整的日志系统

### v2.0
- 重构为Phaser 3架构
- 实现多场景系统
- 添加角色选择功能

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [Phaser 3](https://phaser.io/) - 优秀的HTML5游戏框架
- [MDN Web Docs](https://developer.mozilla.org/) - Web开发文档
- 所有贡献者和测试者

---

**开始您的射击游戏之旅吧！** 🎮

如有问题或建议，请提交Issue或Pull Request。 